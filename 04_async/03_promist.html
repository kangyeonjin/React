<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
// ðŸ’¡ promiseëŠ” ì½œë°± ì§€ì˜¥ê³¼ ê°™ì€ ì½”ë“œê°€ í˜•ì„±ë˜ì§€ ì•Šê²Œ(ë¹„ë™ê¸° í†µì‹  ê°„ì— ìˆœì„œë¥¼ ì •
// í•˜ê¸° ì‰½ê²Œ) í•˜ëŠ” ë°©ì•ˆìœ¼ë¡œ ES6ì—ì„œ ë„ìž…ë˜ì—ˆë‹¤.
// ë¹„ë™ê¸° ì—°ì‚°ì´ ì¢…ë£Œ ëœ ì´í›„ì˜ ê²°ê³¼ ê°’ê³¼ ì‹¤íŒ¨ ì‚¬ìœ ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ ì²˜ë¦¬ê¸°ë¥¼ ì—°
// ê²°í•  ìˆ˜ ìžˆìœ¼ë©° ìµœì¢… ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ ë¯¸ëž˜ì˜ ì–´ë–¤ ì‹œì ì— ê²°ê³¼ë¥¼ ì œê³µ
// í•˜ê² ë‹¤ëŠ” â€˜ì•½ì†â€™ì„ ë°˜í™˜í•œë‹¤.
// promiseì˜ ìƒíƒœ
// ëŒ€ê¸°(pending): ì´í–‰í•˜ì§€ë„, ê±°ë¶€í•˜ì§€ë„ ì•Šì€ ì´ˆê¸° ìƒíƒœ
// ì´í–‰(fulfilled): ì—°ì‚°ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œëœ ìƒíƒœ
// ê±°ë¶€(rejected): ì—°ì‚°ì´ ì‹¤íŒ¨í•œ ìƒíƒœ
// promise ê°ì²´ëŠ” resolveì™€ reject í•¨ìˆ˜ë¥¼ í™œìš©í•œë‹¤.
// 1. resolve: í•¨ìˆ˜ì˜ ì¸ìžë¡œ ë„˜ì–´ì˜¨ ê°’ì„ ì €ìž¥í•˜ê³  ìžˆë‹¤ê°€ thenì„ ë§Œë‚˜ë©´ ì €ìž¥í–ˆë˜
// ê°’ì„ ì§€ë‹Œ Promise ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.
// 2. reject: ì–´ë– í•œ ì´ìœ ë¡œ ê±°ë¶€ë˜ì–´ì•¼ í• (ì¡°ê±´ì¼) ë•Œì˜ Promise ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤
    function increase(number){
    const promise = new Promise((resolve, reject)=>{
        setTimeout(
            ()=>{
                const result =Number+10;
                if(result >50){
                    const e = new Error('NumberToBig');
                    return reject(e);
                }
                resolve(result);
            },
            1000
        );
    });
    return promise;
    }

    /* increaseí•¨ìˆ˜ í˜¸ì¶œí›„ì—ëŠ” promiseê°€ ë°˜í™˜ë¨
    ì´ promiseëŠ” resolveí•¨ìˆ˜ì— ë˜ì ¸ì§„ ì¸ìˆ˜ë¥¼ ê¸°ì–µí•¨
    promiseë¥¼ í†µí•´ thenì„ í˜¸ì¶œí•˜ê³ 
    ë˜ì ¸ì§€ëŠ” ì½œë°±í•¨ìˆ˜ì˜ ì¸ìˆ˜ë¡œ ê¸°ì–µí–ˆë˜ resolveí•¨ìˆ˜ì˜ì¸ìˆ˜ë¥¼ ë„£ì–´ì¤Œ*/
    console.log(increase(0));
    
    increase(0).then(number=>{
        console.log(number);
        return increase(number);
        
    })
    .then(number => {
        console.log(number);
        return increase(number);
    })

    .then(number => {
        console.log(number);
        return increase(number);
    })
    
    .then(number => {
    console.log(number);
    console.log('end');
    })
    .catch(e => {
    console.log();
    })
    .finally(()=>{
    console.log('finally');
    })
    </script>
</body>
</html>